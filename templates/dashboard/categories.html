{% extends 'base.html' %}

{% block content %}
<div class="row">
  <!-- left side bar -->
  {% include 'dashboard/sidebar.html' %}

  <!-- right side content -->
   <div class="col-md-9">
    
      <h3>All Categories</h3>
      <a href="{% url 'add_category' %}" class="btn btn-dark float-right mb-2">Add New</a>
      <a href="{% url 'categories' %}" class="btn btn-light float-right mb-2 mr-3" title="refresh"><i class="fa-solid fa-arrows-rotate fa-lg"></i></a>
    
    <table class="table table-hover">
  <thead>
    <tr>
      <th scope="col">No.</th>
      <th scope="col">Category Name</th>
      <th scope="col">No. of blogs</th>
      <th scope="col">Created At</th>
      <th scope="col">Updated At</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    {% if categories %}
      {% for cat in categories %}
        <tr>
          <th scope="row">{{forloop.counter}}</th>
          <td><a href = "{% url 'posts_by_category' cat.id %}" class="text-dark">{{cat.category_name}} <i class="fa-solid fa-link fa-xs"></i></a></td>
          <td>{{cat.blog_set.count}}</td>
          <td>{{cat.created_at}}</td>
          <td>{{cat.updated_at}}</td>
          <td>
            <a href = "{% url 'edit_category' cat.pk %}" class=""><i class = "fa fa-edit text-info hover-grow"></i></a>
            &nbsp;
            <a href = "{% url 'delete_category' cat.pk%}"><i class = "fa fa-trash text-danger hover-grow"></i></a>
          </td>
        </tr>
      {% endfor %}
    {% else %}
     <h4>No categories yet</h4>
    {% endif %}
  </tbody>
</table>
   </div>
</div>
{% block categories %}

{% endblock %}
{% endblock %}